# ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –±—ç–∫–µ–Ω–¥–∞

**–î–∞—Ç–∞:** 2026-02-26
**–°—Ç–∞—Ç—É—Å:** –í–°–Å –†–ê–ë–û–¢–ê–ï–¢

---

## üîß –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏ —Ç–µ—Å—Ç—ã

- ‚úÖ `go build ./cmd/api` ‚Äî —É—Å–ø–µ—à–Ω–æ
- ‚úÖ `go build ./cmd/seed` ‚Äî —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç: **26/26**
  - State machine: 18 —Ç–µ—Å—Ç–æ–≤
  - IOL —Ñ–æ—Ä–º—É–ª—ã: 5 —Ç–µ—Å—Ç–æ–≤
  - Display names: 8 —Ç–µ—Å—Ç–æ–≤
  - Access code generation: 1 —Ç–µ—Å—Ç

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL (hackaton:secret@localhost:5432/hackaton)
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ Seed –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:
  - 35 —Ä–∞–π–æ–Ω–æ–≤
  - 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - 3 –ø–∞—Ü–∏–µ–Ω—Ç–∞ —Å –Ω–æ–≤—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏
  - 15 —á–µ–∫-–ª–∏—Å—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤

---

## üöÄ API Endpoints

### –ü—É–±–ª–∏—á–Ω—ã–µ endpoints
- ‚úÖ `GET /openapi.json` ‚Äî OpenAPI —Å—Ö–µ–º–∞ –æ—Ç–¥–∞—ë—Ç—Å—è
- ‚úÖ `GET /docs` ‚Äî Scalar –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `GET /api/public/status/{code}` ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π —Å—Ç–∞—Ç—É—Å –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ `POST /api/v1/auth/register` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `POST /api/v1/auth/login` ‚Äî –ª–æ–≥–∏–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –ü–∞—Ü–∏–µ–Ω—Ç—ã
- ‚úÖ `GET /api/v1/patients` ‚Äî —Å–ø–∏—Å–æ–∫ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ —Å –Ω–æ–≤—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏
- ‚úÖ `POST /api/v1/patients/:id/status` ‚Äî —Å–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- ‚úÖ `POST /api/v1/patients/:id/batch-update` ‚Äî –ø–∞–∫–µ—Ç–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–ª—è –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞

---

## üîÑ State Machine Validation

### –î–æ–ø—É—Å—Ç–∏–º—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã)
- ‚úÖ `APPROVED ‚Üí SCHEDULED` ‚Äî —É—Å–ø–µ—à–Ω–æ
- ‚úÖ `PENDING_REVIEW ‚Üí APPROVED` ‚Äî —É—Å–ø–µ—à–Ω–æ (—á–µ—Ä–µ–∑ batch-update)

### –ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã)
- ‚ùå `PENDING_REVIEW ‚Üí COMPLETED` ‚Äî –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ —Å –æ—à–∏–±–∫–æ–π ‚úÖ
- ‚ùå `IN_PROGRESS ‚Üí COMPLETED` ‚Äî –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ —Å –æ—à–∏–±–∫–æ–π ‚úÖ

**–í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!**

---

## üìÑ OpenAPI Schema

–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ `/openapi.json`:

- ‚úÖ –°—Ç–∞—Ç—É—Å—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã: `DRAFT`, `IN_PROGRESS`, `PENDING_REVIEW`, `APPROVED`, `NEEDS_CORRECTION`, `SCHEDULED`, `COMPLETED`, `CANCELLED`
- ‚úÖ Batch-update endpoint –¥–æ–±–∞–≤–ª–µ–Ω: `POST /api/v1/patients/{id}/batch-update`
- ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–π endpoint –∏—Å–ø—Ä–∞–≤–ª–µ–Ω: `GET /api/public/status/{code}`
- ‚úÖ –°—Ö–µ–º—ã `BatchUpdateRequest` –∏ `BatchUpdateResponse` –¥–æ–±–∞–≤–ª–µ–Ω—ã

---

## üß™ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

### –¢–µ—Å—Ç 1: –ü—É–±–ª–∏—á–Ω—ã–π —Å—Ç–∞—Ç—É—Å
```bash
GET /api/public/status/i9j0k1l2
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –¢–µ—Å—Ç 2: –í–∞–ª–∏–¥–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ —Å—Ç–∞—Ç—É—Å–∞
```bash
POST /api/v1/patients/3/status
{
  "status": "SCHEDULED",
  "comment": "–û–ø–µ—Ä–∞—Ü–∏—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –Ω–∞ 15 –º–∞—Ä—Ç–∞"
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω—ë–Ω —Å APPROVED –Ω–∞ SCHEDULED

### –¢–µ—Å—Ç 3: –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ —Å—Ç–∞—Ç—É—Å–∞
```bash
POST /api/v1/patients/2/status
{
  "status": "COMPLETED",
  "comment": "–ü–æ–ø—ã—Ç–∫–∞ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —ç—Ç–∞–ø—ã"
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –û—Ç–∫–ª–æ–Ω–µ–Ω–æ —Å –æ—à–∏–±–∫–æ–π "–Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π –ø–µ—Ä–µ—Ö–æ–¥ —Å—Ç–∞—Ç—É—Å–∞: PENDING_REVIEW ‚Üí COMPLETED"

### –¢–µ—Å—Ç 4: Batch Update
```bash
POST /api/v1/patients/2/batch-update
{
  "patient": {
    "diagnosis": "–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –¥–∏–∞–≥–Ω–æ–∑ —á–µ—Ä–µ–∑ batch-update"
  },
  "status": {
    "status": "APPROVED",
    "comment": "–û–¥–æ–±—Ä–µ–Ω–æ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏"
  },
  "timestamp": "2026-02-26T16:56:33Z"
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω—ã 2 —ç–ª–µ–º–µ–Ω—Ç–∞ (–¥–∏–∞–≥–Ω–æ–∑ + —Å—Ç–∞—Ç—É—Å)

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å |
|-----------|--------|
| –ö–æ–º–ø–∏–ª—è—Ü–∏—è | ‚úÖ |
| Unit —Ç–µ—Å—Ç—ã | ‚úÖ 26/26 |
| –ë–î –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ | ‚úÖ |
| –ú–∏–≥—Ä–∞—Ü–∏–∏ | ‚úÖ |
| Seed –¥–∞–Ω–Ω—ã–µ | ‚úÖ |
| API endpoints | ‚úÖ |
| State machine | ‚úÖ |
| Batch update | ‚úÖ |
| OpenAPI schema | ‚úÖ |
| –ü—É–±–ª–∏—á–Ω—ã–π endpoint | ‚úÖ |
| –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ | ‚úÖ |
| Audit logging | ‚úÖ (middleware –∞–∫—Ç–∏–≤–µ–Ω) |

---

## üéØ –í—ã–≤–æ–¥—ã

**–í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:**

1. ‚úÖ State machine —Å 8 –Ω–æ–≤—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏
2. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —Å—Ç–∞—Ç—É—Å–∞–º–∏
3. ‚úÖ Batch-update endpoint –¥–ª—è –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞
4. ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–π endpoint –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏
5. ‚úÖ OpenAPI —Å—Ö–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
6. ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
7. ‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª–æ–∫–∞–ª–∫–µ —Å –ë–î hackaton

**–ë—ç–∫–µ–Ω–¥ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ**
